<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Issued Books - Admin</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-4">
  <h3>ðŸ“š Issued Books</h3>

  <table class="table table-bordered table-striped mt-3">
    <thead class="table-dark">
    <tr>
      <th>Book Title</th>
      <th>Student ID</th>
      <th>Student Username</th>
      <th>Issue Date</th>
      <th>Due Date</th>
      <th>Return Date</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="issuedBook : ${issuedBooks}">
      <td th:text="${issuedBook.book.title}">Book Title</td>
      <td th:text="${issuedBook.student.id}">Student ID</td>
      <td th:text="${issuedBook.student.username}">Student Username</td>


      <td th:text="${issuedBook.issueDate}">Issue Date</td>
      <td th:text="${issuedBook.dueDate}">Due Date</td>
      <td th:text="${issuedBook.returnDate != null ? issuedBook.returnDate : 'Not Returned'}">Return Date</td>
      <td>
        <span th:if="${issuedBook.returnDate == null}">
          <a th:href="@{'/admin/issued/return/' + ${issuedBook.id}}" class="btn btn-success btn-sm">Mark Returned</a>
        </span>
        <span th:if="${issuedBook.returnDate != null}" class="text-muted">Returned</span>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>
